<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style type="text/css">
		body {
			font-size: 14px;
		}

		table {
			width: 960px;
			margin: 0px auto;
			border-collapse: collapse;
			background: #999;
		}
		div {
			width: 960px;
			margin: 10px auto 15px;
			text-align: center;
		}
		h3 {
			margin: 10px auto;
		}
		table td {
			border: 1px solid #382F27;
			text-align: center;
			padding: 3px 3px;
		}

		table input[type=text] {
			width: 95%;
		} 

		/* 高亮样式 */
		.hl {
			background: #ccc;
		}

		h3 {
			margin: 0px;
			padding: 0px;
			font-size: 18px;
			font-weight: bold;
			color: #fff;
		}		

	</style>		
</head>
<body>
	<table id="table1">
		<tr>
			<td colspan="8">
				<h3>项目列表</h3>
			</td>
		</tr>
		<tr>
			<td>选择</td>
			<td>编号</td>
			<td>项目名称</td>
			<td>项目承担部门</td>
			<td>责任人</td>
			<td>项目预算</td>
			<td>开始日期</td>
			<td>备注</td>
		</tr>
		<tr>
			<td><input type="radio" name="check"></td>
			<td>1</td>
			<td>项目测试1</td>
			<td>部门1</td>
			<td>张三</td>
			<td>￥8888.0</td>
			<td>2015-10-13</td>
			<td>...</td>
		</tr>
		<tr>
			<td><input type="radio" name="check"></td>
			<td>2</td>
			<td>项目测试2</td>
			<td>部门2</td>
			<td>张三</td>
			<td>￥8888.0</td>
			<td>2015-10-13</td>
			<td>...</td>
		</tr>
		<tr>
			<td><input type="radio" name="check"></td>
			<td>3</td>
			<td>项目测试3</td>
			<td>部门3</td>
			<td>张三</td>
			<td>￥8888.0</td>
			<td>2015-10-13</td>
			<td>...</td>
		</tr>
		<tr>
			<td><input type="radio" name="check"></td>
			<td>4</td>
			<td>项目测试4</td>
			<td>部门4</td>
			<td>张三</td>
			<td>￥8888.0</td>
			<td>2015-10-13</td>
			<td>...</td>
		</tr>
		<tr>
			<td><input type="radio" name="check"></td>
			<td>5</td>
			<td>项目测试5</td>
			<td>部门5</td>
			<td>张三</td>
			<td>￥8888.0</td>
			<td>2015-10-13</td>
			<td>...</td>
		</tr>
		<tr>
			<td><input type="radio" name="check"></td>
			<td>6</td>
			<td>项目测试6</td>
			<td>部门6</td>
			<td>张三</td>
			<td>￥8888.0</td>
			<td>2015-10-13</td>
			<td>...</td>
		</tr>
		<tr>
			<td><input type="radio" name="check"></td>
			<td>7</td>
			<td>项目测试7</td>
			<td>部门7</td>
			<td>张三</td>
			<td>￥8888.0</td>
			<td>2015-10-13</td>
			<td>...</td>
		</tr>
		<tr>
			<td colspan="8">
				<span>共12条记录，每页7条，共2页，当前第1页</span>
				<a href="#">首页</a>
				<a href="#">上页</a>
				<a href="#">下页</a>
				<a href="#">末页</a>
			</td>
		</tr>
	</table>
	<div><input type="button" id="btn" value="项目维护"></div>
	<table id="table2">
		<tr>
			<td colspan="4">
				<h3>项目信息维护</h3>
			</td>
		</tr>
		<tr>
			<td>项目名称</td>
			<td><input type="text" id="name"></td>
			<td>项目承担部门</td>
			<td><input type="text" id="department"></td>
		</tr>
		<tr>
			<td>责任人</td>
			<td><input type="text" id="person"></td>
			<td>项目预算</td>
			<td><input type="text" id="budget"></td>
		</tr>
		<tr>
			<td>开始日期</td>
			<td><input type="text" id="date"></td>
			<td>备注</td>
			<td><input type="text" id="remark"></td>
		</tr>
		<tr>
			<td colspan="4">
				<input type="button" id="addBtn" value="添加">
				<input type="button" id="updateBtn" value="修改" disabled>
				<input type="button" id="delBtn" value="删除" disabled>
				<input type="button" id="searchBtn" value="查询">
				<input type="button" id="clearBtn" value="清除">
			</td>
		</tr>
	</table>

	<script type="text/javascript" src="js/jquery.js"></script>
	<script type="text/javascript">

		$(document).ready(function() {
			
			var num = 8;//记录编号

			/*
				增加功能
			*/
			$('#addBtn').click(function() {

				// 获得表单数据
				var name = $('#name').val();
				var department = $('#department').val();
				var person = $('#person').val();
				var budget = $('#budget').val();
				var date = $('#date').val();
				var remark = $('#remark').val();

				// 创建tr
				var trHtml = '';
				trHtml += '<tr>';
				trHtml += '	<td><input type="radio" name="check"></td>';
				trHtml += '	<td>' + num + '</td>';
				trHtml += '	<td>' + name + '</td>';
				trHtml += '	<td>' + department + '</td>';
				trHtml += '	<td>' + person + '</td>';
				trHtml += '	<td>￥' + budget + '</td>';
				trHtml += '	<td>' + date + '</td>';
				trHtml += '	<td>' + remark + '</td>';
				trHtml += '</tr>';

				// 表格中添加行
				$('#table1 tr:last').before(trHtml);

				num ++;//记录编号+1

				clearAll();
			});

			/*
				利用事件委托处理单选单击事件，显示表单数据
			*/
			$('#table1').on('click', ':radio', function() {

				highLight();//高亮函数

				// 设置表单数据
				$('#name').val( $(this).parent().parent().children('td').eq(2).text() );
				$('#department').val( $(this).parent().parent().children('td').eq(3).text() );
				$('#person').val( $(this).parent().parent().children('td').eq(4).text() );
				$('#budget').val( $(this).parent().parent().children('td').eq(5).text() );
				$('#date').val( $(this).parent().parent().children('td').eq(6).text() );
				$('#remark').val( $(this).parent().parent().children('td').eq(7).text() );

				// 修改删除按钮可用
				$('#updateBtn,#delBtn').prop('disabled',false);
				
			});

			/*
				删除数据行
			*/
			$('#delBtn').click(function(event) {
				
				if (window.confirm('确定要删除此行数据吗？')) {

					$('.hl').remove();

					clearAll();
				}

			});

			/*
				修改数据行
			*/
			$('#updateBtn').click(function(event) {
				
				// 获得表单数据
				var name = $('#name').val();
				var department = $('#department').val();
				var person = $('#person').val();
				var budget = $('#budget').val();
				var date = $('#date').val();
				var remark = $('#remark').val();

				// 修改tr数据
				$('.hl').children('td').eq(2).text(name);
				$('.hl').children('td').eq(3).text(department);
				$('.hl').children('td').eq(4).text(person);
				$('.hl').children('td').eq(5).text(budget);
				$('.hl').children('td').eq(6).text(date);
				$('.hl').children('td').eq(7).text(remark);

				clearAll();
			});


			/*
				清除按钮单击
			*/
			$('#clearBtn').click(function(e) {
				
				clearAll();

			});

			/*
				高亮函数
			*/
			function highLight() {
				// 取消所有高亮
				$('.hl').removeClass('hl');

				// 当前行单独加高亮
				$('#table1 :radio[name=check]:checked').parent().parent().addClass('hl');
			}

			/*
				清除函数
			*/
			function clearAll() {
			
				$('#table2 :text').val(''); //清除表单数据
				$('.hl').removeClass('hl'); //清除高亮
				$('#table1 :radio[name=check]:checked').prop('checked',false);//清除单选选中

			}

		});
	</script>
</body>
</html>